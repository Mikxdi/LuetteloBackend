{"version":3,"sources":["services/persons.js","components/PForm.js","components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newObject","post","id","delete","put","PForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Person","person","handleDelete","console","log","name","number","onClick","Persons","filteredList","persons","filter","e","toLowerCase","includes","map","key","Filter","Notification","message","style","color","background","width","fontSize","borderStyle","padding","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","personSearch","setPersonSearch","errorMessage","setErrorMessage","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","some","window","confirm","updatePerson","find","i","returnedP","catch","error","newPerson","concat","response","setTimeout","newPersonList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00c78441.chunk.js","sourcesContent":["\nimport axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(res => res.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(res => res.data)\n}\n\nconst deletePerson = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst changeNumber = (newObject) => {\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n  return request.then(res => res.data)\n}\n\nexport default { getAll, create, deletePerson, changeNumber }","import React from 'react'\n\nconst PForm =(props) =>{\n    return(\n    <form onSubmit={props.addPerson}>\n        <h3>Add person</h3>\n        <div>\n            name: <input value={props.newName} onChange={props.handleNameChange}/>\n        </div>\n        <div>    \n            number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n    )\n}\n\nexport default PForm","import React from 'react'\n\nconst Person = ({person, handleDelete}) =>{\n    console.log(person)\n    return (\n      <tr>\n        <td>{person.name}</td>\n        <td>{person.number}</td>\n        <td><button onClick={() => handleDelete(person.id)}>delete</button></td>\n      </tr>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from '../components/Person'\n\nconst Persons = (props) => {\n  const filteredList = props.persons\n    .filter(e => e.name.toLowerCase().includes(props.filter.toLowerCase()))\n  return (\n    <table>\n      <tbody>\n        {filteredList\n          .map(e =>\n            <Person key={e.id}\n              person={e}\n              handleDelete={props.handleDelete} />\n          )}\n      </tbody>\n    </table>\n\n  )\n}\n\n\nexport default Persons","import React from 'react'\n\n\nconst Filter = (props) => {\n  return (\n    <div>\n      Search for people<input value={props.filter} onChange={props.onChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    background: 'grey',\n    width: '80%',\n    fontSize: 25,\n    borderStyle: 'solid',\n    padding: 20\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n  const notificationStyle = {\n    color: 'red',\n    background: 'grey',\n    width: '80%',\n    fontSize: 25,\n    borderStyle: 'solid',\n    padding: 20\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport PForm from './components/PForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [personSearch, setPersonSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if(persons.some(person => person.name ===newName)){\n      if(window.confirm(`${newName} has been already saved, want to change number?`)){\n        const updatePerson = persons.find(i => i.name ===newName)\n        updatePerson.number= newNumber\n        personService.changeNumber(updatePerson)\n        .then(returnedP=> {\n        setPersons(persons.map(person => person.name !== updatePerson ? person : returnedP))\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(`${returnedP.name} number is changed`)\n      }).catch(error => {\n        setErrorMessage('Changing number failed')\n      })\n  }\n    }else {\n      personService.create(personObject)\n      .then(newPerson => {\n        setPersons(persons.concat(newPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(`Added ${newPerson.name}`)\n      }).catch(error => {\n        console.log(error.response.data);\n        setErrorMessage(error.response.data.error)\n      })\n    }\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n    }, 5000);\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleDelete =(id) =>{\n    if(window.confirm(`Are you sure you want to remove? `)){\n    personService.deletePerson(id)\n    .then(()=>{\n      const newPersonList = persons.filter(person => person.id!==id)\n      setPersons(newPersonList)\n      setNotificationMessage(`Person deleted succesfully`)\n    })\n    .catch(error => {\n      setErrorMessage('Deleting person failed')\n    })\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n  }, 5000);\n}\n}\n\n  const handleFilterChange = (event) => {\n    const value = event.target.value\n    setPersonSearch(value)\n  }\n  return (\n    <div>\n      <Notification message={notificationMessage} />\n      <ErrorNotification message={errorMessage} />\n      <h2>Phonebook</h2>\n      <div>\n      <Filter filter={personSearch} onChange={handleFilterChange} />\n      </div>\n      <PForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n        <ul>\n          <Persons persons={persons} filter={personSearch} handleDelete={handleDelete}/>\n        </ul>\n    </div>\n  )\n\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}